<section>
  <div class="article" *ngIf="article">
    <div class="hero">
      <button mat-flat-button color="primary">
        <p class="hero__category">{{ article.category }}</p>
      </button>
      <figure class="hero__thumbnail">
        <img [src]="article.thumbnailURL" alt="" />
      </figure>
      <mat-chip-list #chiplist>
        <mat-chip *ngFor="let tag of article.tags">
          {{ tag }}
        </mat-chip>
      </mat-chip-list>

      <h1>
        {{ article.title }}
      </h1>

      <div class="hero__body">
        <figure class="hero__logo">
          <img [src]="article.logo" alt="" />
        </figure>
        <h2 class="hero__title">
          <a href="{{ article.serviceURL }}" target="_blank">{{
            article.name
          }}</a>
        </h2>
      </div>
    </div>

    <div class="teacher">
      <div class="teacher__head">
        <h3 class="teacher__title">講師・メンター</h3>
        <button
          mat-flat-button
          class="teacher__button"
          (click)="openStudentsDialog(article)"
        >
          もっと見る
        </button>
      </div>
      <div *ngIf="teachers$ | async as teachers; else blank">
        <div *ngFor="let teacher of teachers">
          <div class="teacher__hero">
            <figure class="teacher__avatar">
              <img src="{{ teacher.profileImageUrl }}" alt="" />
            </figure>
            <a
              href="https://twitter.com/messages/compose?recipient_id={{
                teacher.twitterUid
              }}&ref_src=twsrc%5Etfw"
              mat-mini-fab
              class="teacher__button"
              ><mat-icon>send</mat-icon></a
            >
          </div>

          <div class="teacher__body">
            <a
              href="https://twitter.com/{{ teacher.screenName }}"
              target="_blank"
              ><p class="teacher__name">
                {{ teacher.name }}<br />
                <span class="teacher__screen-name"
                  >@{{ teacher.screenName }}</span
                >
              </p>
            </a>
            <p class="teacher__description">{{ teacher.description }}</p>
          </div>
        </div>
      </div>
      <ng-template #blank>
        <p>
          講師・メンターの登録がまだありません🙏
        </p>
      </ng-template>
    </div>

    <div class="feature">
      <h3 class="feature__title">サービスの特徴</h3>
      <div class="feature__body">
        <quill-view-html [content]="article.feature" theme="snow">
        </quill-view-html>
      </div>
    </div>

    <div class="plan">
      <div class="plan__head-wrap">
        <div class="plan__head">
          <h3 class="plan__title">プラン/料金</h3>
          <p><small>※最新の情報ではない可能性があります。</small></p>
        </div>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon class="mat-18">more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <a
            href="https://twitter.com/messages/compose?recipient_id=4912264663&ref_src=twsrc%5Etfw"
            target="_blank"
            mat-menu-item
            ><mat-icon>flag</mat-icon>報告</a
          >
        </mat-menu>
      </div>
      <div class="plan__body">
        <p class="plan__text">
          {{ article.plan }}
        </p>
      </div>
    </div>

    <div class="link-button">
      <a
        color="primary"
        mat-flat-button
        href="{{ article.serviceURL }}"
        target="_blank"
      >
        {{ article.name }} を見てみる
      </a>
    </div>
  </div>
</section>
