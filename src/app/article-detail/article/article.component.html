<section>
  <div class="article" *ngIf="article$ | async as article; else loading">
    <div class="hero">
      <figure class="hero__thumbnail">
        <img [src]="article.thumbnailURL" alt="" />
      </figure>
      <button mat-flat-button color="primary">
        <p class="hero__category">{{ article.category }}</p>
      </button>

      <h1>
        {{ article.title }}
      </h1>

      <div class="hero__body">
        <figure class="hero__logo">
          <img [src]="article.logo" alt="" />
        </figure>
        <h2 class="hero__title">
          <a href="{{ article.serviceURL }}" target="_blank">{{
            article.name
          }}</a>
        </h2>
      </div>
    </div>

    <div class="menta">
      <div class="menta__head">
        <h3 class="menta__title">講師・メンター</h3>
        <button
          mat-flat-button
          class="menta__button"
          (click)="openStudentsDialog(article)"
        >
          もっと見る
        </button>
      </div>
      <div *ngIf="teachers$ | async as teachers; else zero">
        <div *ngFor="let teacher of teachers">
          <div class="menta__hero">
            <figure>
              <img
                class="menta__avatar"
                src="{{ teacher.profile_image_url }}"
                alt=""
              />
            </figure>
          </div>

          <div class="menta__description">
            <a
              href="https://twitter.com/{{ teacher.screen_name }}"
              class="menta__link"
              target="_blank"
              ><h4>{{ teacher.name }}<br />@{{ teacher.screen_name }}</h4></a
            >
            <p class="menta__description">{{ teacher.description }}</p>
            <button mat-flat-button class="menta__button">話をきく</button>
          </div>
        </div>
      </div>
      <ng-template #zero>
        <p>
          講師・メンターの登録がまだありません🙏
        </p>
      </ng-template>
    </div>

    <div class="feature-section">
      <h3 class="feature-section__title">サービスの特徴</h3>
      <div class="feature">
        <img class="feature__image" [src]="article.image1" alt="" />
        <div class="feature__body">
          <h4 class="feature__title">
            {{ article.featureTitle1 }}
          </h4>
          <p class="feature__description">
            {{ article.featureBody1 }}
          </p>
        </div>
      </div>

      <div class="feature">
        <img class="feature__image" [src]="article.image2" alt="" />
        <div class="feature__body">
          <h4 class="feature__title">
            {{ article.featureTitle2 }}
          </h4>
          <p class="feature__description">
            {{ article.featureBody2 }}
          </p>
        </div>
      </div>
    </div>

    <div class="plan">
      <div class="plan__head-wrap">
        <div class="plan__head">
          <h3 class="plan__title">プラン/料金</h3>
          <p><small>※最新の情報ではない可能性があります。</small></p>
        </div>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon class="mat-18">more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item><mat-icon>flag</mat-icon>報告</button>
        </mat-menu>
      </div>
      <div class="plan__body">
        <p class="plan__text">
          {{ article.plan }}
        </p>
      </div>
    </div>

    <div class="link-button">
      <a mat-flat-button href="{{ article.serviceURL }}" target="_blank">
        {{ article.name }} を見てみる
      </a>
    </div>
  </div>

  <ng-template #loading>
    <mat-spinner></mat-spinner>
  </ng-template>
</section>
