<div class="review">
  <ng-container *ngIf="comments$ | async as comments">
    <p class="review__title">{{ comments.length }}人のユーザーがレビュー済</p>
  </ng-container>
  <p class="review__text">
    {{
      article.name
    }}を利用したことがあったら、参加済ボタンをクリックしてレビューを投稿してみましょう。
  </p>
  <button class="review__btn" (click)="openReviewDialog()">
    参加中 or 参加経験あり
  </button>
</div>

<mat-divider></mat-divider>

<div class="actions">
  <ng-container *ngIf="isliked; else notYet">
    <div (click)="unlikeArticle(uid)" class="actions__btn">
      <mat-icon class="actions__like-icon" color="accent">favorite</mat-icon>
      <span @fadeup>liked!</span>
    </div>
  </ng-container>

  <ng-template #notYet>
    <div (click)="likeArticle(uid)" class="actions__btn" matTooltip="いいね！">
      <mat-icon class="actions__like-icon">favorite_border</mat-icon>
    </div>
  </ng-template>

  <div class="actions__btn actions__btn--twitter" matTooltip="シェア">
    <a
      href="https://twitter.com/share?ref_src=twsrc%5Etfw"
      class="actions__share"
      data-hashtags="eduu"
      data-show-count="false"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#212121"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"
        ></path>
      </svg>
    </a>

    <script
      async
      src="https://platform.twitter.com/widgets.js"
      charset="utf-8"
    ></script>
  </div>

  <ng-container *ngIf="isPinned; else notPin">
    <div (click)="unpinnedArticle(uid)" class="actions__btn">
      <mat-icon @bounce color="warn" class="actions__pin-icon"
        >push_pin</mat-icon
      >
    </div>
  </ng-container>

  <ng-template #notPin>
    <div
      mat-flat-button
      (click)="pinnedArticle(uid)"
      class="actions__btn"
      matTooltip="気になる"
    >
      <mat-icon class="actions__pin-icon">push_pin</mat-icon>
    </div>
  </ng-template>
</div>
